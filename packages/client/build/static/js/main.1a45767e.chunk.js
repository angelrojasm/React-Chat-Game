(this["webpackJsonp@react-chat-game/client"]=this["webpackJsonp@react-chat-game/client"]||[]).push([[0],{94:function(e,t,s){},96:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s(23),a=s.n(n),r=s(22),l=s(2),o=s(6),i=s(1),u=function(){var e=Object(l.g)(),t=Object(c.useState)(""),s=Object(o.a)(t,2),n=s[0],a=s[1];return Object(i.jsxs)("div",{className:"h-screen w-screen bg-purple-200 flex flex-col items-center justify-center",children:[Object(i.jsx)("h3",{className:"font-normal text-4xl leading-4 font-sans mt-9 mr-6",children:"Welcome to the Chat"}),Object(i.jsx)("p",{className:"text-gray-500 text-md my-3 mr-6 mb-9",children:"Tell us your name to access the chat."}),Object(i.jsxs)("form",{className:"mb-96",onSubmit:function(e){e.preventDefault()},children:[Object(i.jsx)("input",{type:"text",className:"focus:outline-none leading-2 h-12 rounded p-1",placeholder:"What's Your name?",value:n,onChange:function(e){a(e.target.value)}}),Object(i.jsx)("button",{className:"bg-purple-600 hover:bg-purple-500 focus:outline-none focus: ring-1 focus:ring-purple-600 rounded-md p-3 text-white font-medium w-32 sm:inline-block ml-2",onClick:function(t){t.preventDefault(),e.push("/chat",{username:n})},children:"Join the Chat"})]})]})},m=s(31),j=s.n(m),b=s(49),d=s.n(b),x=function(e){var t=e.socket,s=Object(c.useState)(""),n=Object(o.a)(s,2),a=n[0],r=n[1];return Object(i.jsx)("div",{className:"w-full flex justify-center",children:Object(i.jsxs)("form",{className:"w-full mx-auto flex justify-center",onSubmit:function(e){e.preventDefault(),t.emit("new-message",a),r("")},children:[Object(i.jsx)("input",{value:a,onChange:function(e){r(e.target.value)},type:"text",placeholder:"Say something in the chat!",className:"bg-gray-200 rounded-sm text-black h-16 pl-4 w-3/4 focus:outline-none focus:ring-1 focus:ring-gray-300 "}),Object(i.jsx)("button",{type:"submit",className:"rounded-lg h-16 w-16 p-0 focus:outline-none focus:ring-1 focus:ring-green-600",style:{backgroundColor:"#28a745"},children:Object(i.jsx)(d.a,{className:"text-white"})})]})})},f=function(e){var t=e.data,s=Object(c.useState)([]),n=Object(o.a)(s,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){t&&r(t)})),Object(i.jsxs)("div",{className:"w-full h-full",children:[Object(i.jsxs)("p",{className:"ml-2 text-red-600",children:["Online Players: ",a.length]}),Object(i.jsx)("div",{className:" flex flex-col items-center mt-4",children:(console.log(a),a.map((function(e,t){return Object(i.jsx)("p",{children:e[1]},t)})))})]})},h=function(e){var t=e.ownMessage,s=e.user,c=e.message;return t?Object(i.jsx)("div",{className:"px-6 py-4 max-w-sm mx-auto bg-green-200 rounded-xl shadow-md flex items-center space-x-4 border my-2 ",children:Object(i.jsx)("div",{className:"px-2 max-w-sm truncate whitespace-normal",children:Object(i.jsx)("p",{className:"text-sm font-medium text-black",children:c})})}):Object(i.jsx)("div",{className:"px-6 py-3 max-w-sm mx-auto bg-gray-200 rounded-xl shadow-md flex items-center space-x-4 border my-2 ",children:Object(i.jsxs)("div",{className:"px-2 max-w-sm truncate whitespace-normal",children:[Object(i.jsx)("p",{className:"text-gray-500 text-xs",children:s}),Object(i.jsx)("p",{className:"text-sm font-medium text-black",children:c})]})})},O=function(e){var t=e.socket,s=e.username,n=Object(c.useState)(),a=Object(o.a)(n,2),r=a[0],l=a[1];return Object(c.useEffect)((function(){t.on("message-list",(function(e){l(e)}))}),[]),Object(i.jsx)("div",{className:"w-full h-full mx-auto overflow-auto flex flex-col justify-start items-center",children:null===r||void 0===r?void 0:r.map((function(e,t){return e[0]===s?Object(i.jsx)("div",{className:"w-full flex justify-end",children:Object(i.jsx)("div",{className:"mr-4",children:Object(i.jsx)(h,{ownMessage:!0,message:e[1]})})}):Object(i.jsx)("div",{className:"w-full flex justify-start",children:Object(i.jsx)("div",{className:"ml-4",children:Object(i.jsx)(h,{user:e[0],message:e[1]})})})}))})},p=function(e){var t=e.location,s=Object(c.useState)(j.a),n=Object(o.a)(s,2),a=n[0],r=n[1],u=Object(c.useState)([]),m=Object(o.a)(u,2),b=m[0],d=m[1],h=Object(c.useState)(t.state?t.state.username:""),p=Object(o.a)(h,2),g=p[0];p[1];return Object(c.useEffect)((function(){if(null===a){var e=j()("/");r(e)}return a.on("username-request",(function(){a.emit("username-response",t.state.username)})),a.on("user-list",(function(e){var t=Object.entries(e);d(t)})),function(){a.disconnect()}}),[a]),t.state?Object(i.jsxs)("div",{className:"h-screen w-screen bg-purple-200 flex justify-center items-center flex-col",children:[Object(i.jsx)("h2",{className:"font-normal text-4xl leading-4 font-sans",children:"Chatroom"}),Object(i.jsxs)("div",{className:"bg-white w-3/5 h-3/4 border-gray-300 border rounded my-8 relative shadow m-0 p-0",children:[Object(i.jsx)("div",{className:"border-gray-400 border-r h-full absolute bottom-0 left-0 w-1/5 m-0 p-0",children:Object(i.jsx)(f,{data:b})}),Object(i.jsx)("div",{className:"absolute top-0 right-0 w-4/5 h-5/6 ",children:Object(i.jsx)(O,{socket:a,username:g})}),Object(i.jsx)("div",{className:"absolute bottom-0 right-0 w-4/5 h-1/6 border-t border-gray-400 flex items-center",children:Object(i.jsx)(x,{socket:a})})]})]}):Object(i.jsx)(l.a,{to:"/"})},g=function(){return Object(i.jsx)(r.a,{children:Object(i.jsxs)(l.d,{children:[Object(i.jsx)(l.b,{path:"/",exact:!0,component:u}),Object(i.jsx)(l.b,{path:"/chat",exact:!0,component:p}),Object(i.jsx)(l.a,{to:"/"})]})})};s(94);a.a.render(Object(i.jsx)(g,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.1a45767e.chunk.js.map